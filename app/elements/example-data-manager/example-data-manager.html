<link
  rel="import"
  href="../../../components/cells-generic-dp/cells-generic-dp.html"
/>

<dom-module id="example-data-manager">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <cells-generic-dp
      id="myDataProvider"
      host="https://api.giphy.com"
      path="v1/gifs/search"
      params='{"api_key":"8HtcX4Qrusz1ZgYwdul8hnkxS73MqWc8","q":"pug","limit":"7"}'
      method="GET"
      on-request-success="getData"
      auto
    ></cells-generic-dp>
  </template>
  <script>
    class ExampleDataManager extends Polymer.Element {
      static get is() {
        return "example-data-manager";
      }

      static get properties() {
        return {
          gifs: {
            type: Array,
            notify: true,
          },
        };
      }

      getData(data) {
        this.dispatchEvent(
          new CustomEvent("suces-data", {
            detail: {
              data: data.detail.data,
            },
          })
        );
      }
    }

    customElements.define(ExampleDataManager.is, ExampleDataManager);
  </script>
</dom-module>
